* C:\Users\Test VM\Documents\LTspice\Battery_Charger\PWM_Charge_Controller.asc
* Generated by LTspice 24.1.7 for Windows.
VSolarPanels VPV 0 18
D2 N005 N006 1N4148
R3 GateSignal N004 100 tol=1 pwr=0.1
R4 GateSignal 0 10K tol=1 pwr=0.1
X§U3 0 VBulk VBattery 0 N008 N009 N010 VPV LT1011
X§U1 0 VBattery VFloat 0 N011 N012 N013 VPV LT1011
C1 N009 N008 0.01µ V=25 Irms=0 Rser=0.0592 Lser=145p mfg="Würth Elektronik" pn="885012205050 WCAP-CSGP 0402" type="X7R"
C2 N012 N011 0.01µ V=25 Irms=0 Rser=0.0589 Lser=379p mfg="Würth Elektronik" pn="885012206065 WCAP-CSGP 0603" type="X7R"
X§U2 0 VBattery VBulk 0 N014 N015 N016 VPV LT1011
X§U4 0 VFloat VBattery 0 N017 N018 N019 VPV LT1011
C3 N015 N014 0.01µ V=25 Irms=0 Rser=0.0592 Lser=145p mfg="Würth Elektronik" pn="885012205050 WCAP-CSGP 0402" type="X7R"
C4 N018 N017 0.01µ V=25 Irms=0 Rser=0.0589 Lser=379p mfg="Würth Elektronik" pn="885012206065 WCAP-CSGP 0603" type="X7R"
V1 VBulk 0 4.5
V2 VFloat 0 4.83
X§U5 0 FinalStageControlReference FinalStageBufferedTriangularWaveformOutput 0 N001 N002 N003 VPV LT1011
C5 N002 N001 0.01µ V=25 Irms=0 Rser=0.0589 Lser=379p mfg="Würth Elektronik" pn="885012206065 WCAP-CSGP 0603" type="X7R"
X§U6 0 THRS Timer_Output 5V N028 THRS N027 5V NE555
C6 N028 0 0.01µ V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GCM155R71E103KA37" type="X7R"
C7 THRS 0 0.001µ V=25 Irms=0 Rser=0.2367 Lser=173p mfg="Würth Elektronik" pn="885012204006 WCAP-CSGP 0201" type="X7R"
R5 5V N027 4.75K tol=1 pwr=0.1
R6 N027 THRS 4.99K tol=1 pwr=0.1
R8 N021 BulkMode 16.5K tol=1 pwr=0.1
R9 N021 AbsorptionMode 24.9K tol=1 pwr=0.1
R10 FloatMode N021 49.9K tol=1 pwr=0.1
R12 N020 N021 15K tol=1 pwr=0.1
V4 5V 0 5
R1 5V N010 10K tol=1 pwr=0.1
R11 5V N013 10K tol=1 pwr=0.1
R13 5V N016 10K tol=1 pwr=0.1
R14 5V N019 10K tol=1 pwr=0.1
R15 N006 N007 20K tol=1 pwr=0.1
R16 N007 0 10K tol=1 pwr=0.1
X§U8 AbsorpMode Absorption_X Absorption_Y 5V 0 SN74HC08
C9 0 5V 0.1µ V=4 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM022R60G153KE15" type="X5R"
Vss Vss 0 -18
X§U19 Timer_Output N024 N024 VPV Vss 0 N023 TriangularWaveform LT1364
R18 BipolarBufferedSquareWave N023 10K tol=1 pwr=0.1
C10 N023 TriangularWaveform 0.001µ V=50 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM1885C1H102JA01" type="C0G"
C11 N024 BipolarBufferedSquareWave 0.1µ V=50 Irms=0 Rser=0.0434 Lser=551p mfg="Würth Elektronik" pn="885012210025 WCAP-CSGP 1812" type="X7R"
R19 N023 TriangularWaveform 100K tol=1 pwr=0.1
X§U16 TriangularWaveform N025 N025 VPV Vss 0 N026 ScaledShiftedTriangularWaveformOutput LT1364
R7 N026 ScaledShiftedTriangularWaveformOutput 100K tol=1 pwr=0.1
R17 N026 N025 20K tol=1 pwr=0.1
R20 N026 P001 100K tol=1 pwr=0.1
V3 P001 0 -3.2
X§U20 ScaledShiftedTriangularWaveformOutput FinalStageBufferedTriangularWaveformOutput FinalStageBufferedTriangularWaveformOutput VPV Vss NC_01 NC_02 NC_03 LT1364
X§U17 N003 5V 0 NC_04 N004 LT1010
R21 5V N003 10K tol=1 pwr=0.1
X§U7 0 N021 N020 VPV Vss 0 N022 VControlVoltageInverted LT1364
X§U21 N010 BulkMode BulkMode VPV Vss N013 FloatMode FloatMode LT1364
X§U9 N016 Absorption_X Absorption_X VPV Vss N019 Absorption_Y Absorption_Y LT1364
X§U11 NC_05 NC_06 NC_07 VPV Vss VControlVoltageInverted FinalStageControlReference FinalStageControlReference LT1364
R22 N022 VControlVoltageInverted 10K tol=1 pwr=0.1
R23 N020 N022 10K tol=1 pwr=0.1
X§U12 NC_08 NC_09 NC_10 VPV Vss AbsorpMode AbsorptionMode AbsorptionMode LT1364
X§U13 N007 VBattery VBattery VPV Vss NC_11 NC_12 NC_13 LT1364
X§U10 VPV GateSignal N005 irlz44n
R2 N006 VStorage 100 tol=1 pwr=0.1
C8 VStorage 0 10000µ V=16 Irms=2.06 Rser=0.028 Lser=25n mfg="Würth Elektronik" pn="860020381029 WCAP-ATG5 18x35,5" type="Al electrolytic"
.model D D
.lib C:\Users\Test VM\AppData\Local\LTspice\lib\cmp\standard.dio
.lib irlz44n.spi
.tran 5s
* Bulk Phase Comparator
* Float Phase Comparator
* Absorption Phase Lower Bound Comparator
* Absorption Phase Upper Bound Comparator
* Control Voltages:\nBulk - 4.5V\nAbsorption - 3.0V\nFloat - 1.5V
* Scale To Logic Level 0 - 5 V DC.\n \nLead Acid Battery Charge Stages:\n0.00 - 13.5V: Bulk\n13.5 - 14.5V: Absorption\n14.5 - 15.0V: Float
.include sclm228\SN74HC08.cir
.ic V(Vstorage)=8
.lib C:\Users\Test VM\Documents\LTspice\irlz44n.spi
.lib C:\Users\Test VM\Documents\LTspice\sclm228\SN74HC08.cir
.lib LT1010.lib
.lib LT1011.sub
.lib LT1364.sub
.lib NE555.sub
.backanno
.end
